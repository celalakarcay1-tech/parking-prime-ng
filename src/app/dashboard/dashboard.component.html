<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Otopark Yönetim Sistemi</h1>
    <p class="subtitle">Dashboard ve İstatistikler</p>
  </div>

  <!-- İstatistik Kartları -->
  <div class="stats-grid">
    <p-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon" style="background: #e3f2fd;">
          <i class="pi pi-car" style="color: #1976d2; font-size: 2rem;"></i>
        </div>
        <div class="stat-info">
          <h3>{{ totalVehicles }}</h3>
          <p>Toplam Araç</p>
        </div>
      </div>
    </p-card>

    <p-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon" style="background: #f3e5f5;">
          <i class="pi pi-id-card" style="color: #7b1fa2; font-size: 2rem;"></i>
        </div>
        <div class="stat-info">
          <h3>{{ activeSubscriptions }}</h3>
          <p>Aktif Abonelik</p>
        </div>
      </div>
    </p-card>

    <p-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon" style="background: #e8f5e9;">
          <i class="pi pi-money-bill" style="color: #388e3c; font-size: 2rem;"></i>
        </div>
        <div class="stat-info">
          <h3>{{ todayRevenue | currency:'TRY':'symbol':'1.0-0' }}</h3>
          <p>Bugünkü Gelir</p>
        </div>
      </div>
    </p-card>

    <p-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon" style="background: #fff3e0;">
          <i class="pi pi-chart-line" style="color: #f57c00; font-size: 2rem;"></i>
        </div>
        <div class="stat-info">
          <h3>{{ monthlyRevenue | currency:'TRY':'symbol':'1.0-0' }}</h3>
          <p>Aylık Gelir</p>
        </div>
      </div>
    </p-card>

    <p-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon" style="background: #fce4ec;">
          <i class="pi pi-map-marker" style="color: #c2185b; font-size: 2rem;"></i>
        </div>
        <div class="stat-info">
          <h3>{{ occupiedSpots }} / {{ totalSpots }}</h3>
          <p>Doluluk Oranı</p>
          <p-tag 
            [value]="getOccupancyPercentage() + '%'" 
            [severity]="getOccupancySeverity()"
            styleClass="mt-2">
          </p-tag>
        </div>
      </div>
    </p-card>
  </div>

  <!-- Grafikler -->
  <div class="charts-grid">
    <p-card class="chart-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h3>Günlük Gelir Trendi</h3>
          <span class="card-subtitle">Son 7 Gün</span>
        </div>
      </ng-template>
      <p-chart type="line" [data]="revenueChartData" [options]="chartOptions"></p-chart>
    </p-card>

    <p-card class="chart-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h3>Araç Tipi Dağılımı</h3>
        </div>
      </ng-template>
      <p-chart type="doughnut" [data]="vehicleChartData" [options]="chartOptions"></p-chart>
    </p-card>

    <p-card class="chart-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h3>Abonelik Durumu</h3>
        </div>
      </ng-template>
      <p-chart type="pie" [data]="subscriptionChartData" [options]="chartOptions"></p-chart>
    </p-card>

    <p-card class="chart-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <h3>Ödeme Yöntemleri</h3>
        </div>
      </ng-template>
      <p-chart type="bar" [data]="paymentMethodChartData" [options]="chartOptions"></p-chart>
    </p-card>
  </div>
</div>

